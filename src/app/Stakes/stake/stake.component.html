<div class="wrapper">
    <div class="sidebar" data-color="white" data-active-color="danger">
      <sidebar-cmp></sidebar-cmp>
    </div>
    <div class="main-panel">
      <navbar-cmp></navbar-cmp>

      <div class="content">

        <svg class="bi bi-search" width="2em" height="2em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg" style="float: right" (click)="help()">
          <path fill-rule="evenodd" d="M10.442 10.442a1 1 0 011.415 0l3.85 3.85a1 1 0 01-1.414 1.415l-3.85-3.85a1 1 0 010-1.415z" clip-rule="evenodd"/>
          <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 100-11 5.5 5.5 0 000 11zM13 6.5a6.5 6.5 0 11-13 0 6.5 6.5 0 0113 0z" clip-rule="evenodd"/>
        </svg>
        <button class="btn colorbleu btn-sm text-white" style="float: right" (click)="definition()" >Définition</button>
        <svg class="bi bi-gear-fill" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg" routerLink="/reflextionguide">
          <path fill-rule="evenodd" d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 0 0-5.86 2.929 2.929 0 0 0 0 5.858z"/>
        </svg>

        <ul class="nav nav-tabs ">
          <li class="nav-item">
            <button class="btn colororange text-white btn-sm" routerLink="/enjeuIntern" >+ Ajouter enjeu interne</button>
          </li>
          <li class="nav-item">
            <button class="btn colorbleu text-white ml-1 btn-sm" routerLink="/enjeuExtern" >+ Ajouter enjeu externe</button>
          </li>
          <li class="nav-item">
            <button class="btn colororange text-white ml-1 btn-sm"  routerLink="/CategoriesEnjeuIntern" *ngIf="CreateRole()"> Categorie Interne</button>
          </li>
          <li class="nav-item">
            <button class="btn colorbleu text-white ml-1 btn-sm"  routerLink="/CategoriesEnjeuExtern" *ngIf="CreateRole()"> Categorie externe</button>
          </li>
        </ul>
        <div class=" mt-1 colorbleu">
          <h3 style="color:white;"> Enjeux internes </h3>
        </div>
        <div class="container">

          <div class="med" style="float: left">
            <h2>--------------forces/strengths-------------------</h2>
            <div  *ngFor="let p of CategoryByStake">
              <div class="colororange flex-center" ><h3 class="text-white ">{{p.NameCategoryStakInternal}}</h3></div>
              <div class="card">
                <table mat-table [dataSource]="p.stakes" class="example-table table "
                       matSort matSortActive="id" matSortDisableClear matSortDirection="asc">

                  <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef>Id</th>
                    <td mat-cell *matCellDef="let row" > <p *ngIf=" row.Type.id == 1 ">{{row.id}}</p></td>
                  </ng-container>

                  <!-- Product Price Column -->
                  <ng-container matColumnDef="description">
                    <th mat-header-cell *matHeaderCellDef>Description </th>
                    <td mat-cell *matCellDef="let row"> <p *ngIf=" row.Type.id == 1 "> {{row.Description}}</p> </td>
                  </ng-container>


                  <tr mat-header-row *matHeaderRowDef="hidder"></tr>
                  <tr mat-row *matRowDef="let row; columns: hidder;" ></tr>
                </table>
              </div>

            </div>

          </div>
          <div class="med" style="float: right"  >
            <h2>----------faiblesses/weaknesses--------</h2>
            <div  *ngFor="let p of CategoryByStake">
              <div class=" colororange flex-center" ><h3 class="text-white position">{{p.NameCategoryStakInternal}}</h3></div>
              <div class="card">
                <table mat-table [dataSource]="p.stakes" class="example-table table "
                       matSort matSortActive="id" matSortDisableClear matSortDirection="asc">

                  <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef>Id</th>
                    <td mat-cell *matCellDef="let row" > <p *ngIf=" row.Type.id == 2 ">{{row.id}}</p></td>
                  </ng-container>

                  <!-- Product Price Column -->
                  <ng-container matColumnDef="description">
                    <th mat-header-cell *matHeaderCellDef>Description </th>
                    <td mat-cell *matCellDef="let row"> <p *ngIf=" row.Type.id == 2 "> {{row.Description}}</p> </td>
                  </ng-container>


                  <tr mat-header-row *matHeaderRowDef="hidder"></tr>
                  <tr mat-row *matRowDef="let row; columns: hidder;" ></tr>
                </table>
              </div>

            </div>

          </div>


        </div>
      </div>
    </div>
    <div class="main-panel">

      <div class="colorbleu " >
        <h3 style="color:white;"> Enjeux externes </h3>
      </div>
      <div class="container">
        <div style ="float: left">
          <h2>--------Opportunités/Opportunites-------</h2>
          <div  *ngFor="let p of usersExtern">
            <div class=" colororange flex-center" ><h3 class="text-white position">{{p.NameCategoryStakExternal}}</h3></div>
            <div class="card">
              <table mat-table [dataSource]="p.stakes" class="example-table table"
                     matSort matSortActive="id" matSortDisableClear matSortDirection="asc">

                <ng-container matColumnDef="id">
                  <th mat-header-cell *matHeaderCellDef>Id</th>
                  <td mat-cell *matCellDef="let row" > <p *ngIf=" row.Type.id == 3 ">{{row.id}}</p></td>
                </ng-container>

                <!-- Product Price Column -->
                <ng-container matColumnDef="description">
                  <th mat-header-cell *matHeaderCellDef>Description </th>
                  <td mat-cell *matCellDef="let row"> <p *ngIf=" row.Type.id == 3 "> {{row.Description}}</p> </td>
                </ng-container>


                <tr mat-header-row *matHeaderRowDef="hidder"></tr>
                <tr mat-row *matRowDef="let row; columns: hidder;" ></tr>
              </table>
            </div>

          </div>

        </div>
        <div class="med" style="float: right"  >
          <h2>--------------Menances/Threates------------</h2>
          <div  *ngFor="let p of usersExtern">
            <div class="  colororange flex-center" ><h3 class="text-white position">{{p.NameCategoryStakExternal}}</h3></div>
            <div class="card">
              <table mat-table [dataSource]="p.stakes" class="example-table table "
                     matSort matSortActive="id" matSortDisableClear matSortDirection="asc">

                <ng-container matColumnDef="id">
                  <th mat-header-cell *matHeaderCellDef>Id</th>
                  <td mat-cell *matCellDef="let row" > <p *ngIf=" row.Type.id == 4 ">{{row.id}}</p></td>
                </ng-container>

                <!-- Product Price Column -->
                <ng-container matColumnDef="description">
                  <th mat-header-cell *matHeaderCellDef>Description </th>
                  <td mat-cell *matCellDef="let row"> <p *ngIf=" row.Type.id == 4 "> {{row.Description}}</p> </td>
                </ng-container>


                <tr mat-header-row *matHeaderRowDef="hidder"></tr>
                <tr mat-row *matRowDef="let row; columns: hidder;" ></tr>
              </table>
            </div>

          </div>

        </div>


      </div>
    </div>




    <div class="main-panel">
      <div class="colorbleu text-white" >
        <h3> Synthèse </h3>
      </div>
      <div class=" col-md-4 card"  style="float: left">
        <table class="table">
          <thead class=" text-primary">
          <tr>
            <th *ngFor="let c of hidder"><h5 >{{c}}</h5></th><td></td><td></td><td></td>
          </tr>
          </thead>
          <tbody >
          <tr *ngFor="let c of Stake | paginate: { itemsPerPage : 5 , currentPage:p }">
            <td>E{{c.id}}</td>
            <td>{{c.Description}}</td>
            <td></td>
            <td>
              <button mat-fab color="warn" aria-label="Example icon button with a delete icon">
                <mat-icon (click)="delateStake(c)" class="text-white">delete</mat-icon>
              </button></td>
          </tr>
          </tbody>
        </table>
        <pagination-controls (pageChange)="p = $event"></pagination-controls>
      </div>
      <div class="card col-md-4" style="float: right">
        <table class="table" >
          <thead class=" text-primary">
          <tr>
            <th *ngFor="let c of hidderType"><h5 >{{c}}</h5></th><td></td><td></td><td></td>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let t of Type "  >

            <td >{{t.Type}}</td>
            <td >{{t.nbre}}</td>

            <td ></td>

          </tr>

          </tbody>
        </table>
      </div>

      <div class="col-md-8 card" style="float: right">
        <div style="display: block">
          <canvas baseChart
                  [datasets]="barChartData"
                  [labels]="barChartLabels"
                  [options]="barChartOptions"
                  [legend]="barChartLegend"
                  [chartType]="barChartType">
          </canvas>
        </div>
      </div>
    </div>



  </div>


